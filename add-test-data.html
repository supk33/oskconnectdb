<!DOCTYPE html>
<html>
<head>
    <title>Add Test Data to Firestore</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
</head>
<body>
    <h1>Add Test Data to Firestore</h1>
    <button onclick="addTestData()">Add Test Data</button>
    <div id="result"></div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            projectId: "oskconnectdb"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Connect to Firestore emulator
        if (window.location.hostname === 'localhost') {
            db.useEmulator('localhost', 8080);
        }

        const testStores = [
            {
                shopName: "ร้านกาแฟสตาร์บัคส์",
                description: "ร้านกาแฟสไตล์อเมริกัน เปิดบริการ 24 ชั่วโมง",
                category: "กาแฟ",
                location: {
                    type: "Point",
                    coordinates: [100.5018, 13.7563]
                },
                phone: "02-123-4567",
                email: "bangkok@starbucks.com",
                status: "approved",
                ownerId: "test-user-1",
                owner: {
                    firstName: "สมชาย",
                    lastName: "ใจดี"
                },
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                shopName: "ร้านอาหารไทยโบราณ",
                description: "อาหารไทยแท้ ต้นตำรับโบราณ",
                category: "อาหารไทย",
                location: {
                    type: "Point",
                    coordinates: [100.5118, 13.7663]
                },
                phone: "02-234-5678",
                email: "thai@restaurant.com",
                status: "approved",
                ownerId: "test-user-2",
                owner: {
                    firstName: "สมหญิง",
                    lastName: "รักไทย"
                },
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            },
            {
                shopName: "ร้านขนมหวาน",
                description: "ขนมหวานไทยและต่างประเทศ",
                category: "ขนมหวาน",
                location: {
                    type: "Point",
                    coordinates: [100.5218, 13.7763]
                },
                phone: "02-345-6789",
                email: "sweet@dessert.com",
                status: "pending",
                ownerId: "test-user-3",
                owner: {
                    firstName: "สมศรี",
                    lastName: "หวานใจ"
                },
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            }
        ];

        async function addTestData() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Adding test data...';

            try {
                for (const store of testStores) {
                    const docRef = await db.collection('stores').add(store);
                    console.log('Added store:', store.shopName, 'with ID:', docRef.id);
                }
                
                resultDiv.innerHTML = 'Test data added successfully!';
            } catch (error) {
                console.error('Error adding test data:', error);
                resultDiv.innerHTML = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
