# üè™ OSK Connect Database System

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ Firebase Services ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö

### Frontend (SPA)
- **‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏ö‡∏ô**: Firebase Hosting
- **‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á**: `/`, `/member`, `/admin`
- **‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ**: React.js + Tailwind CSS

### ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **‡πÉ‡∏ä‡πâ**: Cloud Firestore
- **Collections**:
  - `users` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
  - `stores` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
  - `tags` - ‡πÅ‡∏ó‡πá‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
  - `promotions` - ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô
  - `menuItems` - ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£
  - `storePhotos` - ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
  - `storeReviews` - ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
  - `storeCategories` - ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
  - `userFavorites` - ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö
  - `storeOperatingHours` - ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£

### ‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
- **‡πÉ‡∏ä‡πâ**: Firebase Storage
- **‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á**: `stores/{storeId}/photos/`, `users/{userId}/avatar.jpg`

### Backend Logic
- **‡πÉ‡∏ä‡πâ**: Cloud Functions (HTTPS)
- **‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö LINE LIFF ID Token ‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å Firebase Custom Token
- **Security**: ‡πÉ‡∏ä‡πâ Firestore Security Rules ‡πÅ‡∏•‡∏∞ Storage Rules

## üöÄ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° Firebase ‡∏•‡πâ‡∏ß‡∏ô

1. **‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£ Deploy** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ server infrastructure
2. **Scalable** - Firebase scale ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
3. **Real-time** - Firestore ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö real-time updates
4. **Security** - Security Rules ‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
5. **Cost-effective** - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏∞‡∏à‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
6. **Integration** - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö LINE LIFF ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
7. **Offline Support** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö offline

## üìã ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

1. **Firebase Account** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏µ‡πà [Firebase Console](https://console.firebase.google.com/)
2. **Firebase CLI** - ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Firebase CLI
3. **Node.js** - ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô 18 ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤
4. **LINE Developers Account** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö LINE LIFF integration

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### 1. Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
```bash
git clone <repository-url>
cd oskconnectdb
```

### 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies
```bash
# Frontend
cd client
npm install

# Backend (Cloud Functions)
cd ../functions
npm install
```

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Firebase
```bash
# Login Firebase
firebase login

# Initialize Firebase
firebase init

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables
firebase functions:config:set line.liff_id="your-line-liff-id"
firebase functions:config:set line.channel_secret="your-line-channel-secret"
firebase functions:config:set line.channel_access_token="your-line-channel-access-token"
```

### 4. ‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Development
```bash
# Terminal 1: ‡∏£‡∏±‡∏ô Firebase Emulators
firebase emulators:start

# Terminal 2: ‡∏£‡∏±‡∏ô Frontend
cd client
npm start
```

### 5. Deploy ‡∏£‡∏∞‡∏ö‡∏ö
```bash
# Build Frontend
cd client
npm run build

# Deploy ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
firebase deploy
```

## üåê ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

### Development:
- **Frontend**: `http://localhost:3000`
- **Functions**: `http://localhost:5001/your-project-id/us-central1/api`
- **Firestore**: `http://localhost:8080`
- **Storage**: `http://localhost:9199`

### Production:
- **Frontend**: `https://your-project-id.web.app`
- **API**: `/api`

## üîí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### Firestore Security Rules
- ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ
- ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ
- Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞ (‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤, ‡πÄ‡∏°‡∏ô‡∏π) ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô

### Storage Security Rules
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö file type (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

## üì± LINE LIFF Integration

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ LINE LIFF ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Authentication:
1. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ login ‡∏ú‡πà‡∏≤‡∏ô LINE
2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö LINE LIFF ID Token
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Firebase Custom Token
4. ‡πÉ‡∏ä‡πâ Firebase Authentication ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏ö‡∏ö

## üí∞ ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô

### Firebase Pricing (Free Tier):
- **Hosting**: 10GB storage, 360MB/day transfer
- **Functions**: 125K invocations/month, 40K GB-seconds/month
- **Firestore**: 1GB storage, 50K reads/day, 20K writes/day
- **Storage**: 5GB storage, 1GB/day transfer

## üîß ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:
```
oskconnectdb/
‚îú‚îÄ‚îÄ client/                 # Frontend React App
‚îú‚îÄ‚îÄ functions/              # Cloud Functions
‚îú‚îÄ‚îÄ firestore.rules         # Firestore Security Rules
‚îú‚îÄ‚îÄ storage.rules           # Storage Security Rules
‚îú‚îÄ‚îÄ firestore.indexes.json  # Firestore Indexes
‚îú‚îÄ‚îÄ firebase.json           # Firebase Configuration
‚îî‚îÄ‚îÄ DEPLOYMENT.md           # ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£ Deploy
```

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:
```bash
# ‡∏î‡∏π logs
firebase functions:log

# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï config
firebase functions:config:set key="value"

# Deploy ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô
firebase deploy --only hosting
firebase deploy --only functions
firebase deploy --only firestore:rules
firebase deploy --only storage
```

## üìû ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô

‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firebase Console
2. ‡∏î‡∏π logs ‡∏î‡πâ‡∏ß‡∏¢ `firebase functions:log`
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Google Cloud Console
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Issue ‡πÉ‡∏ô GitHub repository

## üìÑ License

MIT License - ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå LICENSE
"# oskconnectdb" 
